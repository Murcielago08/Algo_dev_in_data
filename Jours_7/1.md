## Broadcasting en NumPy

**Définition :**
Le broadcasting est une fonctionnalité de NumPy qui permet d’effectuer des opérations sur des **tableaux de tailles différentes** sans avoir besoin de les copier ou de les boucler explicitement. NumPy **"étend" automatiquement les dimensions des tableaux** pour qu’ils soient compatibles pour l’opération.

---

### Règles principales du broadcasting

1. Si les tableaux n’ont pas le même nombre de dimensions, **on ajoute des dimensions de taille 1 à gauche** du tableau le plus petit.
2. Les dimensions sont compatibles si :

   * elles sont égales, ou
   * l’une des deux est 1.
3. Si une dimension vaut 1, NumPy la **répète automatiquement** pour correspondre à l’autre tableau.

---

### Exemple simple

Supposons qu’on ait un vecteur `v` et une matrice `M` :

```python
import numpy as np

# Matrice 3x3
M = np.array([[1, 2, 3],
              [4, 5, 6],
              [7, 8, 9]])

# Vecteur de taille 3
v = np.array([10, 20, 30])
```

Si on fait :

```python
result = M + v
```

NumPy va **broadcast `v` sur chaque ligne de `M`** automatiquement :

```
M:       [[1, 2, 3],
          [4, 5, 6],
          [7, 8, 9]]

v:       [10, 20, 30]  -> broadcast -> [[10, 20, 30],
                                        [10, 20, 30],
                                        [10, 20, 30]]

result:  [[11, 22, 33],
          [14, 25, 36],
          [17, 28, 39]]
```

---

### Exemple avec vecteur colonne

```python
u = np.array([[1],
              [2],
              [3]])  # forme (3,1)

result = M + u
```

Ici, `u` est **broadcast sur les colonnes** de `M` :

```
u: [[1],       -> broadcast -> [[1, 1, 1],
    [2],                         [2, 2, 2],
    [3]]                         [3, 3, 3]]

result = M + u
```

---

✅ **Résumé pratique :**

* Broadcasting permet d’éviter les boucles pour additionner, multiplier ou appliquer toute opération sur des tableaux de tailles différentes.
* NumPy étend automatiquement les dimensions de taille 1 pour que les formes correspondent.

